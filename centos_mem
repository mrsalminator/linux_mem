
========================================================
Neofetch

https://www.linuxcapable.com/how-to-install-neofetch-on-centos-9-stream/


1) Обновить поток CentOS
Во-первых, обновите свою систему, чтобы убедиться, что все существующие пакеты обновлены, чтобы избежать конфликтов.

sudo dnf upgrade --refresh

2) Импорт репозитория EPEL
Первая задача — установить репозиторий (EPEL), что означает (дополнительные пакеты для Enterprise Linux). Для новых пользователей CentOS Stream и аналогичных дистрибутивов на основе RHEL EPEL содержит наиболее часто используемые программные пакеты для Enterprise Linux.

Рекламное объявление

Сначала включите CRB.

sudo dnf config-manager --set-enabled crb
Далее установите ЭПЕЛЬиспользуя следующие (днф) команда терминала.

sudo dnf install \
    https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm \
    https://dl.fedoraproject.org/pub/epel/epel-next-release-latest-9.noarch.rpm
    
    
3) Установить Неофетч
Теперь, когда репозиторий EPEL импортирован, вы можете установить Neofetch, используя следующую команду.

sudo dnf install neofetch -y
После установки проверьте установку и выполните сборку с помощьюкоманда neofetch –версия .

neofetch --version


=========================================================

КАК УЗНАТЬ ВЕРСИЮ ЯДРА LINUX

uname -a

============================================================

Настройки цвета для конкретного пользователя


Добавит строку в конец

PS1="\[\e[1;36m\]\u@\h\[\e[m\]:\[\e[1;36m\]\w\[\e[1;32m\]\\$ "

в файл расположенный тут: ~ /. bashrc

где первые цыфры это имя машины, потом имя пользователя, сам текст

полезные ссылки:

http://meliorem.ru/tools/linux/kak-izmenit-cvet-teksta-stroki-priglasheniya-v-terminale-linux/

https://frameboxxindore.com/ru/linux/what-is-the-ps1-variable-in-linux.html

https://losst.pro/tsveta-terminala-linux

========================================================

Смена шрифта в tty

Подробно тут: https://wiki.archlinux.org/title/Linux_console#Fonts

Шрифты лежат тут: /libecho "/kbd/consolefonts

что бы протестить шрифт, переходим в эту папку и вводим команду

setfont имя шрифта (дописываем табуляцией)

На постоянной основе поменять шрифт:

echo "FONT=(подставить нужный)" >> /etc/vconsole.conf - расширение файла не надо, только название

или открыть этот файл в нано и добавить FONT="нужный шрифт" 


==========================================================

Проброс портов для SSH в vbox (не обязательно, в режиме моста работает и так)

1) Выбрать в настройках сети NAT

2) Имя: SSH.
Протокол: TCP.
Адрес хоста: оставляем пустым или указываем 127.0.0.1.
Порт хоста: любой свободный порт на вашей основной системе, например, 2222.
Адрес гостя: IP адрес, который был присвоен вашей виртуальной машине. В нашем случае это 10.0.2.15.
Порт гостя: порт SSH на виртуальной машине, по умолчанию – 22.

===========================================================

Настройка SSH

Для того то бы настроить SSH, в первую очередь он должен быть включен, как сервис! В файле nano /etc/ssh/sshd_config должен быть указан порт по которому клиент будет подключаться к серверу. После изменений в файле сервис необходимо перезапустить командой systemctl restart sshd

 Ключ на клиенте сперва нобходимо сгенерировать в отдельный файл: ssh-keygen
 
 Далее его нужно передать на сервер
 
 Все ключи храняться у пользователя, под которым будем заходить на сервер в файле (~/.sshauthorized_keys)
 
 ИНФО: права доступа на ключи
 
 979


Typically you want the permissions to be:

.ssh directory: 700 (drwx------)
public key (.pub file): 644 (-rw-r--r--)
private key (id_rsa): 600 (-rw-------)
lastly your home directory should not be writeable by the group or others (at most 755 (drwxr-xr-x)).
 
===========================================================================================================
 Простой метод



Примечание. Этот метод может дать сбой, если удаленный сервер использует не shоболочку, такую ​​как tcshпо умолчанию, и использует OpenSSH старше 6.6.1p1. См. этот отчет об ошибке .
Если ваш ключевой файл, ~/.ssh/id_rsa.pubвы можете просто ввести следующую команду.

$ ssh-copy-id удаленный-сервер.org
Если ваше имя пользователя отличается на удаленной машине, обязательно добавьте имя пользователя перед @именем сервера.

$ ssh-copy-id имя_пользователя@remote-server.org - имя того пользователя, который на клиенте
Если ваше имя файла открытого ключа отличается от имени по умолчанию, ~/.ssh/id_rsa.pubвы получите сообщение об ошибке /usr/bin/ssh-copy-id: ERROR: No identities found. В этом случае вы должны явно указать расположение открытого ключа.

$ ssh-copy-id -i ~/.ssh/id_ed25519.pub username@remote-server.org
Если сервер ssh прослушивает порт, отличный от 22 по умолчанию, обязательно укажите его в аргументе хоста.

$ ssh-copy-id -i ~/.ssh/id_ed25519.pub -p 221 имя_пользователя@remote-server.org

========================================================================================

1) открыть в nano /etc/ssh/sshd_config

Изменить строку:

#PermitRootLogin prohibit-password
TO:
PermitRootLogin yes

Подключаться с хоста в виртуалку командой

ssh root@192.168.31.91

или если пробрасовать порты (это не обязательно), когда сетевой интерфейс в режиме NAT так

ssh root@localhost -p 2222

Все

Проверка работы ssh на виртуалке: service sshd status

Перезапуск службы: service sshd restart



=================================================================

Дата создания файла или каталога:

stat -c %w /

-с - задает формат

%w -  время рождения в читаемом виде

=====================================================

чтобы требовать новый пароль каждые 90 дней

sudo chage -M 90 user1

=====================================================

Принудительная смена пароля при первом входе в систему

sudo chage -d 0 user1























=====================================================

Вопросы:

Как быть, если зависла графика? Когда ПК не отвечает, двигается только курсор. В винде, если такое происходит можно нажать ctrl+alt+del и выбрать завершение сеанса, выйти из системы, а потом перезайти, что бы не перезагружать ПК, если даже диспетчер задач не открывается. Тоже самое можно сделать кнопкой выключения. В Linux такой возможности нет. А виртуальная консоль не открывается и как быть? только перезагрузка? 




























